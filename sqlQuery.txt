Schema
CREATE TABLE employees (
id SERIAL PRIMARY KEY,
name VARCHAR(100),
department VARCHAR(50),
salary DECIMAL,
hired_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE projects (
id SERIAL PRIMARY KEY,
name VARCHAR(100),
start_date DATE,
end_date DATE
);

CREATE TABLE employee_projects (
employee_id INT REFERENCES employees(id),
project_id INT REFERENCES projects(id),
PRIMARY KEY (employee_id, project_id)
);

Queries to Write
1. Get the top 5 highest paid employees.
2. Count employees per department.
3. Find employees not assigned to any project.
4. List employees working on more than 2 projects.



1. Get the top 5 highest paid employees.

SELECT id, name, department, salary
FROM employees
ORDER BY salary DESC
LIMIT 5;


2. Count employees per department.

SELECT department, COUNT(*) AS employee_count
FROM employees
GROUP BY department;


3. Find employees not assigned to any project.

SELECT e.id, e.name, e.department
FROM employees e
LEFT JOIN employee_projects ep ON e.id = ep.employee_id
WHERE ep.project_id IS NULL;


4. List employees working on more than 2 projects.

SELECT e.id, e.name, e.department, COUNT(ep.project_id) AS project_count
FROM employees e
JOIN employee_projects ep ON e.id = ep.employee_id
GROUP BY e.id, e.name, e.department
HAVING COUNT(ep.project_id) > 2;
